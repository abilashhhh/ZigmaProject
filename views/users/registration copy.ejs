<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
  <meta charset="utf-8" />
  <title>Zigma Watches - Registration Page</title>
  <!-- Template CSS -->
  <link rel="stylesheet" href="/assets/css/maind134.css" />
</head>

<body>
  <div class="page-header breadcrumb-wrap">
    <div class="container">
      <div class="breadcrumb">
        <a href="/" rel="nofollow">Home</a>
        <span></span> Create Account
      </div>
      <p class="logopara">Zigma Smartwatches</p>
    </div>
  </div>

  <div class="padding_eight_all bg-white">
    <div class="heading_s1">
      <h3 class="mb-30">Create an Account</h3>
    </div>
    <p class="mb-50 font-sm">
      Your personal data will be used to support your experience
      throughout this website, to manage access to your account,
      and for other purposes described in our privacy policy
    </p>
    <form method="post" action="/register" onsubmit="return validateForm()">
      <div class="form-group">
        <input type="text" required="" name="username" placeholder="Username" id="username" />
        <p id="usernameModify" style="color: red;"> </p>
      </div>

      <div class="form-group">
        <input type="text" required="" name="email" placeholder="Email" id="email" />
        <p id="emailModify" style="color: red;"> </p>
      </div>

      <div class="form-group">
        <input type="text" required="" name="mobile" placeholder="Mobile Number" id="mobile" />
        <p id="mobileModify" style="color: red;"> </p>
      </div>

      <div class="form-group">
        <input required="" type="password" name="password" placeholder="Password" id="password" />
        <p id="passwordModify" style="color: red;"> </p>
      </div>

      <div class="form-group">
        <input required="" type="password" name="confirmPassword" placeholder="Confirm password" id="confirmPassword" />
        <p id="confirmPasswordModify" style="color: red;"> </p>
      </div>







      <div class="form-group">
        <button type="submit" class="btn btn-fill-out btn-block hover-up" name="login">
          Register
        </button>
      </div>


      <% if (typeof message !=='undefined' ) { %>
        <div id="message-container">
          <h5 style="font-size: large; color: red; margin: 20px;">
            <%= message %>
          </h5>
        </div>
        <script>
          setTimeout(() => {
            document.getElementById("message-container").style.display = "none";
          }, 3000);
        </script>
        <% } %>
    </form>

    <div class="text-muted text-center">
      <strong>Already have an account? <a href="/login">Sign in now</a></strong>
    </div>
  </div>
  </main>
  <script>


    function validateForm() {

      //username
      // Get the values entered by the user
      var username = document.getElementById('username').value;
      var email = document.getElementById('email').value;
      var mobile = document.getElementById('mobile').value;
      var password = document.getElementById('password').value;
      var confirmPassword = document.getElementById('confirmPassword').value;

      // Check if the username is empty
      if (username.trim() === '') {
        // Display an error message for username
        document.getElementById('usernameModify').innerText = 'Username cannot be empty';
        return false; // Prevent the form from submitting
      } else {
        // Clear any previous error messages for username
        document.getElementById('usernameModify').innerText = '';
      }

      // email
      var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+/;
      if (email.trim() === '') {
        document.getElementById('emailModify').innerText = 'Email cannot be empty';
        return false;
      } else if (!emailRegex.test(email)) {
        document.getElementById('emailModify').innerText = 'Invalid email format';
        return false;
      } else {
        document.getElementById('emailModify').innerText = '';
      }

      // mobile
      var mobileRegex = /^\d+$/;
      if (mobile.trim() === '') {
        document.getElementById('mobileModify').innerText = 'Mobile number cannot be empty';
        return false;
      } else if (!mobileRegex.test(mobile)) {
        document.getElementById('mobileModify').innerText = 'Invalid mobile number format';
        return false;
      } else if (mobile.length !== 10) {
        document.getElementById('mobileModify').innerText = 'Mobile number should be 10 digits long';
        return false;
      } else {
        document.getElementById('mobileModify').innerText = '';
      }

      // password
      if (password.trim() === '') {
        document.getElementById('passwordModify').innerText = 'Password cannot be blank spaces';
        return false;
      } else if (password.length < 8) {
        document.getElementById('passwordModify').innerText = 'Password must be at least 8 characters long';
        return false;
      } else {
        document.getElementById('passwordModify').innerText = '';
      }

      // confirm password
      if (confirmPassword.trim() === '') {
        document.getElementById('confirmPasswordModify').innerText = 'Confirm password cannot be blank spaces';
        return false;
      } else if (confirmPassword !== password) {
        document.getElementById('confirmPasswordModify').innerText = 'Passwords do not match';
        return false;
      } else {
        document.getElementById('confirmPasswordModify').innerText = '';
      }

      //checking both are same or not
      if (password === confirmPassword) {
        document.getElementById('passwordModify').innerText = '';
        document.getElementById('confirmPasswordModify').innerText = '';
      } else if (password !== confirmPassword) {
        document.getElementById('confirmPasswordModify').innerText = 'Passwords do not match';
        document.getElementById('passwordModify').innerText = 'Passwords do not match';
      }
      // If all fields are valid, allow the form to submit
      return true;
    }

  </script>
</body>

</html>