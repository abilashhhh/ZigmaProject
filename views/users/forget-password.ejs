<%- include('../partials/userHeader.ejs') %>
    <%- include('../partials/pageTopPanel.ejs') %>

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@10/dist/sweetalert2.min.css" />
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
        <style>
            .error {
                color: red;
            }
        </style>
        </head>

        <body>
            <div class="page-header breadcrumb-wrap">
                <div class="container">
                    <div class="breadcrumb">
                        <a href="/" rel="nofollow">Home</a>
                        <span><a href="/login">Log in</a></span>
                        <span><a href="/forget-password">Forget Password</a></span>
                        <span>Reset Password</span>
                    </div>

                </div>
            </div>

            <section class="pt-50 pb-50 d-flex justify-content-center">
                <div class="container">
                    <div class="row">
                        <div class="m-auto d-flex justify-content-center">
                            <div class="row d-flex col-lg-5 justify-content-center">
                                <div class="col-lg-12">
                                    <div
                                        class="login_wrap widget-taber-content p-30 background-white border-radius-10 mb-md-5 mb-lg-0 mb-sm-5  border-4">

                                        <div class="heading_s1">
                                            <h3 class="mb-30">Reset Password</h3>
                                        </div>
                                        <form method="post" onsubmit="return validateForm()">
                                            <div class="form-group">
                                                <input type="password" required="" name="password" id="password"
                                                    placeholder="Enter password">
                                                <span id="passwordError" class="error"></span>
                                            </div>

                                            <div class="form-group">
                                                <input type="password" required="" name="confirmpassword"
                                                    id="confirmpassword" placeholder="Confirm password">
                                                <span id="confirmPasswordError" class="error"></span>

                                            </div>
                                            <input type="hidden" name="user_id" value="<%= user_id %>">
                                            <div class="form-group">
                                                <button type="submit" class="btn btn-fill-out btn-block hover-up"
                                                    name="login">Reset password</button>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="col-lg-1"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <script>
                function validateForm() {
                    var password = document.getElementById('password').value;
                    var confirmPassword = document.getElementById('confirmpassword').value;
                    if (password.trim() === '') {
                        document.getElementById('passwordError').innerText = 'Password cannot be empty.';
                        return false;
                    } else {
                        document.getElementById('passwordError').innerText = '';
                    }

                    //   8 characters
                    if (password.length < 8) {
                        document.getElementById('passwordError').innerText = 'Password must be at least 8 characters long.';
                        return false;
                    } else {
                        document.getElementById('passwordError').innerText = '';
                    }

                    if (password !== confirmPassword) {
                        document.getElementById('confirmPasswordError').innerText = 'Passwords do not match.';
                        return false;
                    } else {
                        document.getElementById('confirmPasswordError').innerText = '';
                    }
                    return true;
                }


            </script>


            <%- include('../partials/userAboveFooterPanel.ejs') %>
                <%- include('../partials/userFooter.ejs') %>